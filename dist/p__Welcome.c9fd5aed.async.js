"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[185],{50555:function(te,L,n){n.r(L),n.d(L,{default:function(){return re}});var z=n(15009),r=n.n(z),I=n(99289),h=n.n(I),Z=n(5574),l=n.n(Z),f=n(97857),N=n.n(f),A=n(45934),V=n(2028),T=n(45433),D=n(2453),M=n(4393),Q=n(27484),p=n.n(Q),g=n(67294),E=n(9783),x=n.n(E),R=n(62679),X=(0,R.kc)(function(F){var i=F.token;return{iconGroup:{"span.anticon":{marginLeft:"16px",color:i.colorTextSecondary,cursor:"pointer",transition:"color 0.32s","&:hover":{color:i.colorText}}},rankingList:x()({margin:"25px 0 0",padding:"0",listStyle:"none",li:{display:"flex",alignItems:"center",marginTop:"16px",zoom:"1","&::before, &::after":{display:"table",content:"' '"},"&::after":{clear:"both",height:"0",fontSize:"0",visibility:"hidden"}}},"@media screen and (max-width: ".concat(i.screenLG,"px)"),{li:{"span:first-child":{marginRight:"8px"}}}),rankingItemNumber:{display:"inline-block",width:"20px",height:"20px",marginTop:"1.5px",marginRight:"16px",fontWeight:"600",fontSize:"12px",lineHeight:"20px",textAlign:"center",borderRadius:"20px",backgroundColor:i.colorBgContainerDisabled},rankingItemTitle:{flex:"1",marginRight:"8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},rankingItemNumberActive:{display:"inline-block",width:"20px",height:"20px",marginTop:"1.5px",marginRight:"16px",fontWeight:"600",fontSize:"12px",lineHeight:"20px",textAlign:"center",borderRadius:"20px",color:"#fff",backgroundColor:i.colorBgSpotlight},salesExtra:x()({display:"inline-block",marginRight:"24px",a:{marginLeft:"24px",color:i.colorText,"&:hover":{color:i.colorPrimary}}},"@media screen and (max-width: ".concat(i.screenLG,"px)"),{display:"none"}),currentDate:{color:i.colorPrimary},salesBar:x()({padding:"0 0 32px 32px"},"@media screen and (max-width: ".concat(i.screenMD,"px)"),{padding:"16px"}),salesRank:{padding:"0 32px 32px 72px"},salesCard:x()(x()({".ant-tabs-bar, .ant-tabs-nav-wrap":{paddingLeft:"16px",".ant-tabs-nav .ant-tabs-tab":{paddingTop:"16px",paddingBottom:"14px",lineHeight:"24px"}},".ant-tabs-extra-content":{paddingRight:"24px",lineHeight:"55px"},".ant-card-head":{position:"relative"},".ant-card-head-title":{alignItems:"normal"}},"@media screen and (max-width: ".concat(i.screenMD,"px)"),{padding:"16px"}),"@media screen and (max-width: ".concat(i.screenSM,"px)"),{".ant-tabs-content":{paddingTop:"30px"}}),salesCardExtra:{height:"inherit"},salesTypeRadio:{position:"absolute",right:"54px",bottom:"12px"},offlineCard:{".ant-tabs-ink-bar":{bottom:"auto"},".ant-tabs-bar":{borderBottom:"none"},".ant-tabs-nav-container-scrolling":{paddingRight:"40px",paddingLeft:"40px"},".ant-tabs-tab-prev-icon::before":{position:"relative",left:"6px"},".ant-tabs-tab-next-icon::before":{position:"relative",right:"6px"},".ant-tabs-tab-active h4":{color:i.colorPrimary}},trendText:{marginLeft:"8px",color:i.colorTextHeading},rankingTitle:x()({},"@media screen and (max-width: ".concat(i.screenMD,"px)"),{marginTop:"16px"}),salesExtraWrap:x()({},"@media screen and (max-width: ".concat(i.screenSM,"px)"),{display:"none"})}}),Y=X,a=n(85893),k=T.default.RangePicker,$=function(){var i=(0,g.useState)(p()().startOf("week").format("YYYY-MM-DD")),U=l()(i,2),w=U[0],b=U[1],K=(0,g.useState)(p()().format("YYYY-MM-DD")),G=l()(K,2),o=G[0],C=G[1],H=(0,g.useState)([]),j=l()(H,2),y=j[0],_=j[1],q=(0,g.useState)(0),m=l()(q,2),ie=m[0],W=m[1],se=function(){var S=h()(r()().mark(function u(){var d;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,(0,A.d5)({endDate:o,startDate:w,year:ie});case 3:d=v.sent,d.code===200?_(d.data):D.ZP.error(d.message),v.next=10;break;case 7:v.prev=7,v.t0=v.catch(0),D.ZP.error("\u83B7\u53D6\u7EDF\u8BA1\u6570\u636E\u5931\u8D25");case 10:case"end":return v.stop()}},u,null,[[0,7]])}));return function(){return S.apply(this,arguments)}}(),J=function(u){var d=p()().format("YYYY-MM-DD"),B="";return u==="week"?B=p()().startOf("week").format("YYYY-MM-DD"):u==="month"?B=p()().startOf("month").format("YYYY-MM-DD"):u==="year"&&(B=p()().startOf("year").format("YYYY-MM-DD")),{startDate:B,endDate:d}};(0,g.useEffect)(function(){se()},[w,o]);var oe=Y(),ee=oe.styles,ue={data:y,xField:"date",yField:"quantity",colorField:"name",group:!0,style:{inset:5}};return(0,a.jsx)(M.Z,{title:"\u6CE8\u518C\u4F1A\u5458\u8D8B\u52BF\u56FE",extra:(0,a.jsxs)("div",{className:ee.salesExtraWrap,children:[(0,a.jsxs)("div",{className:ee.salesExtra,children:[(0,a.jsx)("a",{href:"#",onClick:function(u){u.preventDefault();var d=J("week");b(d.startDate),C(d.endDate),W(0)},children:"\u672C\u5468"}),(0,a.jsx)("a",{href:"#",onClick:function(u){u.preventDefault();var d=J("month");b(d.startDate),C(d.endDate),W(0)},children:"\u672C\u6708"}),(0,a.jsx)("a",{href:"#",onClick:function(u){u.preventDefault();var d=J("year");b(d.startDate),C(d.endDate),W(1)},children:"\u672C\u5E74"})]}),(0,a.jsx)(k,{value:[p()(w),p()(o)],onChange:function(u){u&&(b(p()(u[0]).format("YYYY-MM-DD")),C(p()(u[1]).format("YYYY-MM-DD")),W(0))},style:{width:256}})]}),style:{marginTop:24},children:(0,a.jsx)(V.Z,N()({},ue))})},P=$,t=n(39615),s=n(90930),c=n(9220),e=t.Z.Statistic,ne=t.Z.Divider,O={display:"block",width:42,height:42},ae=function(){var i=(0,g.useState)(!1),U=l()(i,2),w=U[0],b=U[1],K=(0,g.useState)({historyCount:0,memberUserNums:0,orderCount:0,preTotalPrice:0,totalPrice:0,totalUserNums:0,userNums:0}),G=l()(K,2),o=G[0],C=G[1],H=function(){var j=h()(r()().mark(function y(){var _;return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,(0,A.mU)();case 3:_=m.sent,_.code===200?C(_.data):D.ZP.error(_.message),m.next=10;break;case 7:m.prev=7,m.t0=m.catch(0),D.ZP.error("\u83B7\u53D6\u7EDF\u8BA1\u4FE1\u606F\u5931\u8D25");case 10:case"end":return m.stop()}},y,null,[[0,7]])}));return function(){return j.apply(this,arguments)}}();return(0,g.useEffect)(function(){H()},[]),(0,a.jsxs)(s._z,{children:[(0,a.jsx)("div",{style:{marginBottom:24},children:(0,a.jsx)(c.Z,{onResize:function(y){b(y.width<596)},children:(0,a.jsxs)(t.Z.Group,{direction:w?"column":"row",children:[(0,a.jsx)(t.Z,{statistic:{title:"\u6536\u5165\u603B\u989D",value:o.totalPrice,icon:(0,a.jsx)("img",{style:O,src:"https://gw.alipayobjects.com/mdn/rms_7bc6d8/afts/img/A*dr_0RKvVzVwAAAAAAAAAAABkARQnAQ",alt:"icon"})}}),(0,a.jsx)(t.Z,{statistic:{title:"\u6628\u65E5\u6536\u5165",value:o.preTotalPrice,icon:(0,a.jsx)("img",{style:O,src:"https://gw.alipayobjects.com/mdn/rms_7bc6d8/afts/img/A*-jVKQJgA1UgAAAAAAAAAAABkARQnAQ",alt:"icon"})}}),(0,a.jsx)(t.Z,{statistic:{title:"\u603B\u8BA2\u5355\u6570",value:o.orderCount,icon:(0,a.jsx)("img",{style:O,src:"https://gw.alipayobjects.com/mdn/rms_7bc6d8/afts/img/A*FPlYQoTNlBEAAAAAAAAAAABkARQnAQ",alt:"icon"})}}),(0,a.jsx)(t.Z,{statistic:{title:"\u603B\u6D4F\u89C8\u91CF",value:o.historyCount,icon:(0,a.jsx)("img",{style:O,src:"https://gw.alipayobjects.com/mdn/rms_7bc6d8/afts/img/A*pUkAQpefcx8AAAAAAAAAAABkARQnAQ",alt:"icon"})}})]})},"resize-observer")}),(0,a.jsx)(c.Z,{onResize:function(y){b(y.width<596)},children:(0,a.jsxs)(t.Z.Group,{direction:w?"column":"row",children:[(0,a.jsx)(t.Z,{statistic:{title:"\u603B\u6CE8\u518C\u4EBA\u6570",value:o.totalUserNums}}),(0,a.jsx)(ne,{type:w?"horizontal":"vertical"}),(0,a.jsx)(t.Z,{statistic:{title:"\u4ED8\u8D39\u4F1A\u5458",value:o.memberUserNums,description:(0,a.jsx)(e,{title:"\u5360\u6BD4",value:"".concat((o.memberUserNums/o.totalUserNums*100).toFixed(2),"%")})}}),(0,a.jsx)(t.Z,{statistic:{title:"\u514D\u8D39\u4F1A\u5458",value:o.totalUserNums-o.memberUserNums,description:(0,a.jsx)(e,{title:"\u5360\u6BD4",value:"".concat(((o.totalUserNums-o.memberUserNums)/o.totalUserNums*100).toFixed(2),"%")})}})]})},"resize-observer"),(0,a.jsx)(P,{})]})},re=ae},45934:function(te,L,n){n.d(L,{FM:function(){return Q},Jb:function(){return g},O3:function(){return N},cN:function(){return V},d5:function(){return a},mU:function(){return $},md:function(){return D},o5:function(){return x}});var z=n(15009),r=n.n(z),I=n(97857),h=n.n(I),Z=n(99289),l=n.n(Z),f=n(80854);function N(t){return A.apply(this,arguments)}function A(){return A=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/list"),{method:"GET",params:h()({},s)}));case 1:case"end":return e.stop()}},t)})),A.apply(this,arguments)}function V(t){return T.apply(this,arguments)}function T(){return T=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/add"),{method:"POST",data:h()({},s)}));case 1:case"end":return e.stop()}},t)})),T.apply(this,arguments)}function D(t){return M.apply(this,arguments)}function M(){return M=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/update"),{method:"POST",data:h()({},s)}));case 1:case"end":return e.stop()}},t)})),M.apply(this,arguments)}function Q(t){return p.apply(this,arguments)}function p(){return p=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/delete"),{method:"GET",params:h()({},s)}));case 1:case"end":return e.stop()}},t)})),p.apply(this,arguments)}function g(t){return E.apply(this,arguments)}function E(){return E=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/publish"),{method:"GET",params:h()({},s)}));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function x(t){return R.apply(this,arguments)}function R(){return R=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/video/out"),{method:"GET",params:h()({},s)}));case 1:case"end":return e.stop()}},t)})),R.apply(this,arguments)}function X(t){return Y.apply(this,arguments)}function Y(){return Y=_asyncToGenerator(_regeneratorRuntime().mark(function t(s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("".concat("http://www.weiliuyinshi.cn:8080","/video/longLink"),{method:"GET",data:_objectSpread({},s)}));case 1:case"end":return e.stop()}},t)})),Y.apply(this,arguments)}function a(t){return k.apply(this,arguments)}function k(){return k=l()(r()().mark(function t(s){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/count/gantt"),{method:"GET",params:h()({},s)}));case 1:case"end":return e.stop()}},t)})),k.apply(this,arguments)}function $(){return P.apply(this,arguments)}function P(){return P=l()(r()().mark(function t(){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,f.request)("".concat("http://www.weiliuyinshi.cn:8080","/count/info"),{method:"GET"}));case 1:case"end":return c.stop()}},t)})),P.apply(this,arguments)}}}]);
