"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[51],{5966:function(ae,I,e){var R=e(97685),s=e(1413),W=e(91),E=e(21770),H=e(8232),A=e(55241),b=e(97435),V=e(67294),M=e(53560),u=e(85893),c=["fieldProps","proFieldProps"],C=["fieldProps","proFieldProps"],Z="text",$=function(o){var t=o.fieldProps,p=o.proFieldProps,v=(0,W.Z)(o,c);return(0,u.jsx)(M.Z,(0,s.Z)({valueType:Z,fieldProps:t,filedConfig:{valueType:Z},proFieldProps:p},v))},G=function(o){var t=(0,E.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),p=(0,R.Z)(t,2),v=p[0],B=p[1];return(0,u.jsx)(H.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(y){var x,L=y.getFieldValue(o.name||[]);return(0,u.jsx)(A.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(n){return n&&n.parentNode?n.parentNode:n},onOpenChange:function(n){return B(n)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(x=o.statusRender)===null||x===void 0?void 0:x.call(o,L),o.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:v,children:o.children}))}})},k=function(o){var t=o.fieldProps,p=o.proFieldProps,v=(0,W.Z)(o,C),B=(0,V.useState)(!1),F=(0,R.Z)(B,2),y=F[0],x=F[1];return t!=null&&t.statusRender&&v.name?(0,u.jsx)(G,{name:v.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:y,onOpenChange:x,children:(0,u.jsx)("div",{children:(0,u.jsx)(M.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,b.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(S){var n;t==null||(n=t.onBlur)===null||n===void 0||n.call(t,S),x(!1)},onClick:function(S){var n;t==null||(n=t.onClick)===null||n===void 0||n.call(t,S),x(!0)}}),proFieldProps:p,filedConfig:{valueType:Z}},v))})}):(0,u.jsx)(M.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:p,filedConfig:{valueType:Z}},v))},O=$;O.Password=k,O.displayName="ProFormComponent",I.Z=O},62383:function(ae,I,e){e.r(I),e.d(I,{default:function(){return ge}});var R=e(15009),s=e.n(R),W=e(97857),E=e.n(W),H=e(99289),A=e.n(H),b=e(71108),V=e(9460),M=e(78158),u=e(87547),c=e(1413),C=e(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},$=Z,G=e(91146),k=function(a,d){return C.createElement(G.Z,(0,c.Z)((0,c.Z)({},a),{},{ref:d,icon:$}))},O=C.forwardRef(k),U=O,o=e(91),t=e(89451),p=e(28459),v=e(93967),B=e.n(v),F=e(34994),y=e(4942),x=e(98082),L=function(a){return(0,y.Z)((0,y.Z)({},a.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:a.colorTextSecondary,fontSize:a.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),"@media (min-width: @screen-md-min)",(0,y.Z)({},"".concat(a.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"}))};function S(l){return(0,x.Xj)("LoginForm",function(a){var d=(0,c.Z)((0,c.Z)({},a),{},{componentCls:".".concat(l)});return[L(d)]})}var n=e(85893),le=["logo","message","contentStyle","title","subTitle","actions","children","containerStyle","otherStyle"];function ie(l){var a,d=l.logo,Y=l.message,J=l.contentStyle,D=l.title,z=l.subTitle,N=l.actions,j=l.children,g=l.containerStyle,h=l.otherStyle,r=(0,o.Z)(l,le),f=(0,t.YB)(),m=r.submitter===!1?!1:(0,c.Z)((0,c.Z)({searchConfig:{submitText:f.getMessage("loginForm.submitText","\u767B\u5F55")}},r.submitter),{},{submitButtonProps:(0,c.Z)({size:"large",style:{width:"100%"}},(a=r.submitter)===null||a===void 0?void 0:a.submitButtonProps),render:function(ee,oe){var ne,me=oe.pop();if(typeof(r==null||(ne=r.submitter)===null||ne===void 0?void 0:ne.render)=="function"){var K,te;return r==null||(K=r.submitter)===null||K===void 0||(te=K.render)===null||te===void 0?void 0:te.call(K,ee,oe)}return me}}),T=(0,C.useContext)(p.ZP.ConfigContext),w=T.getPrefixCls("pro-form-login"),i=S(w),he=i.wrapSSR,q=i.hashId,P=function(ee){return"".concat(w,"-").concat(ee," ").concat(q)},_=(0,C.useMemo)(function(){return d?typeof d=="string"?(0,n.jsx)("img",{src:d}):d:null},[d]);return he((0,n.jsxs)("div",{className:B()(P("container"),q),style:g,children:[(0,n.jsxs)("div",{className:"".concat(P("top")," ").concat(q).trim(),children:[D||_?(0,n.jsxs)("div",{className:"".concat(P("header")),children:[_?(0,n.jsx)("span",{className:P("logo"),children:_}):null,D?(0,n.jsx)("span",{className:P("title"),children:D}):null]}):null,z?(0,n.jsx)("div",{className:P("desc"),children:z}):null]}),(0,n.jsxs)("div",{className:P("main"),style:(0,c.Z)({width:328},J),children:[(0,n.jsxs)(F.A,(0,c.Z)((0,c.Z)({isKeyPressSubmit:!0},r),{},{submitter:m,children:[Y,j]})),N?(0,n.jsx)("div",{className:P("main-other"),style:h,children:N}):null]})]}))}var re=e(5966),Q=e(80854),X=e(2453),se=e(62679),de=e(73935),ue=e(67610),ce=(0,se.kc)(function(l){var a=l.token;return{action:{marginLeft:"8px",color:"rgba(0, 0, 0, 0.2)",fontSize:"24px",verticalAlign:"middle",cursor:"pointer",transition:"color 0.3s","&:hover":{color:a.colorPrimaryActive}},lang:{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:a.borderRadius,":hover":{backgroundColor:a.colorBgTextHover}},container:{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}}),ve=function(){var a=(0,Q.useModel)("@@initialState"),d=a.initialState,Y=a.setInitialState,J=ce(),D=J.styles,z=function(){var j=A()(s()().mark(function g(){var h,r;return s()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,d==null||(h=d.fetchUserInfo)===null||h===void 0?void 0:h.call(d);case 2:r=m.sent,r&&(0,de.flushSync)(function(){Y(function(T){return E()(E()({},T),{},{currentUser:r})})});case 4:case"end":return m.stop()}},g)}));return function(){return j.apply(this,arguments)}}(),N=function(){var j=A()(s()().mark(function g(h){var r,f,m,T;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,V.x4)(E()({},h));case 3:if(r=i.sent,r.code!==200){i.next=15;break}return(0,M.o4)(r.data.tokenHead+r.data.token),f="\u767B\u5F55\u6210\u529F\uFF01",X.ZP.success(f),i.next=10,z();case 10:return m=new URL(window.location.href).searchParams,Q.history.push(m.get("redirect")||"/"),i.abrupt("return");case 15:X.ZP.error(r.message);case 16:i.next=23;break;case 18:i.prev=18,i.t0=i.catch(0),T="\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",console.log(i.t0),X.ZP.error(T);case 23:case"end":return i.stop()}},g,null,[[0,18]])}));return function(h){return j.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:D.container,children:[(0,n.jsx)(Q.Helmet,{children:(0,n.jsxs)("title",{children:["\u767B\u5F55","- ",ue.Z.title]})}),(0,n.jsx)("div",{style:{flex:"1",paddingTop:"10%"},children:(0,n.jsxs)(ie,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,n.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"\u56F4\u516D\u5F71\u89C6\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",subTitle:"\u56F4\u516D\u5F71\u89C6\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",initialValues:{autoLogin:!0},onFinish:function(){var j=A()(s()().mark(function g(h){return s()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,N(h);case 2:case"end":return f.stop()}},g)}));return function(g){return j.apply(this,arguments)}}(),children:[(0,n.jsx)(re.Z,{name:"username",fieldProps:{size:"large",prefix:(0,n.jsx)(u.Z,{})},placeholder:"\u7528\u6237\u540D: admin",rules:[{required:!0,message:"\u7528\u6237\u540D\u662F\u5FC5\u586B\u9879\uFF01"}]}),(0,n.jsx)(re.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,n.jsx)(U,{})},placeholder:"\u5BC6\u7801: macro123",rules:[{required:!0,message:"\u5BC6\u7801\u662F\u5FC5\u586B\u9879\uFF01"}]})]})}),(0,n.jsx)(b.$_,{})]})},ge=ve}}]);
